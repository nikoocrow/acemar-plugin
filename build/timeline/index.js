(()=>{"use strict";var e,a={487(){const e=window.React,a=window.wp.blocks,t=window.wp.blockEditor,l=window.wp.components,r=JSON.parse('{"UU":"acemar/timeline"}');(0,a.registerBlockType)(r.UU,{edit:({attributes:a,setAttributes:r})=>{const{hitos:n,accentColor:i,panelBg:o}=a,c=(0,t.useBlockProps)({className:"acemar-timeline alignfull"}),m=(e,a,t)=>{const l=n.map((l,r)=>r===e?{...l,[a]:t}:l);r({hitos:l})},s=(e,a)=>{const t=[...n],l=e+a;l<0||l>=t.length||([t[e],t[l]]=[t[l],t[e]],r({hitos:t}))};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:"Colores",initialOpen:!1},(0,e.createElement)("p",{style:{fontSize:"12px",marginBottom:"4px"}},"Color acento ",(0,e.createElement)(l.ColorIndicator,{colorValue:i})),(0,e.createElement)(t.ColorPalette,{colors:[{name:"Dorado Acemar",color:"#C9A84C"},{name:"Blanco",color:"#ffffff"},{name:"Naranja",color:"#e8732a"}],value:i,onChange:e=>r({accentColor:e})}),(0,e.createElement)("p",{style:{fontSize:"12px",marginBottom:"4px",marginTop:"12px"}},"Fondo panel ",(0,e.createElement)(l.ColorIndicator,{colorValue:o})),(0,e.createElement)(t.ColorPalette,{colors:[{name:"Negro",color:"#1a1a1a"},{name:"Gris oscuro",color:"#2d2d2d"},{name:"Gris",color:"#444444"}],value:o,onChange:e=>r({panelBg:e})})),(0,e.createElement)(l.PanelBody,{title:`Hitos (${n.length})`,initialOpen:!0},n.map((a,i)=>(0,e.createElement)("div",{key:i,style:{border:"1px solid #ddd",borderRadius:"4px",padding:"12px",marginBottom:"12px",background:"#f9f9f9"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},(0,e.createElement)("strong",{style:{fontSize:"12px"}},"Hito ",i+1),(0,e.createElement)("div",{style:{display:"flex",gap:"4px"}},(0,e.createElement)(l.Button,{onClick:()=>s(i,-1),variant:"tertiary",style:{minWidth:"unset",padding:"0 6px"}},"â†‘"),(0,e.createElement)(l.Button,{onClick:()=>s(i,1),variant:"tertiary",style:{minWidth:"unset",padding:"0 6px"}},"â†“"),(0,e.createElement)(l.Button,{onClick:()=>(e=>{r({hitos:n.filter((a,t)=>t!==e)})})(i),isDestructive:!0,variant:"link",style:{fontSize:"11px"}},"Eliminar"))),(0,e.createElement)(t.MediaUploadCheck,null,(0,e.createElement)(t.MediaUpload,{onSelect:e=>{const a=n.map((a,t)=>t===i?{...a,imageUrl:e.url,imageId:e.id}:a);r({hitos:a})},allowedTypes:["image"],value:a.imageId,render:({open:t})=>(0,e.createElement)("div",{style:{marginBottom:"8px"}},a.imageUrl&&(0,e.createElement)("img",{src:a.imageUrl,style:{width:"100%",height:"60px",objectFit:"cover",borderRadius:"2px",marginBottom:"4px"},alt:""}),(0,e.createElement)(l.Button,{onClick:t,variant:"secondary",style:{width:"100%",fontSize:"11px"}},a.imageUrl?"Cambiar imagen":"Subir imagen"))})),(0,e.createElement)(l.TextControl,{label:"AÃ±o",value:a.year,onChange:e=>m(i,"year",e),placeholder:"1962"}),(0,e.createElement)(l.TextControl,{label:"TÃ­tulo",value:a.title,onChange:e=>m(i,"title",e),placeholder:"Nace un sueÃ±o"}),(0,e.createElement)(l.TextareaControl,{label:"DescripciÃ³n",value:a.description,onChange:e=>m(i,"description",e),placeholder:"DescripciÃ³n del hito...",rows:3}))),(0,e.createElement)(l.Button,{onClick:()=>{r({hitos:[...n,{year:"2000",title:"Nuevo hito",description:"DescripciÃ³n del hito.",imageUrl:"",imageId:0}]})},variant:"secondary",style:{width:"100%"}},"+ Agregar hito"))),(0,e.createElement)("div",{...c},(0,e.createElement)("div",{className:"acemar-timeline__editor-preview"},(0,e.createElement)("span",null,"ðŸ• Timeline â€” ",n.length," hitos configurados"),(0,e.createElement)("div",{className:"acemar-timeline__editor-list"},n.map((a,t)=>(0,e.createElement)("div",{key:t,className:"acemar-timeline__editor-item"},a.imageUrl&&(0,e.createElement)("img",{src:a.imageUrl,alt:""}),(0,e.createElement)("div",null,(0,e.createElement)("strong",null,a.year),(0,e.createElement)("span",null,a.title))))))))},save:({attributes:a})=>{const{hitos:l,accentColor:r,panelBg:n}=a,i=t.useBlockProps.save({className:"acemar-timeline alignfull",style:{"--accent":r}});return(0,e.createElement)("div",{...i},(0,e.createElement)("div",{className:"acemar-timeline__slides"},l.map((a,t)=>(0,e.createElement)("div",{key:t,className:"acemar-timeline__slide"+(0===t?" is-active":""),"data-index":t},(0,e.createElement)("div",{className:"acemar-timeline__image"},a.imageUrl?(0,e.createElement)("img",{src:a.imageUrl,alt:a.title}):(0,e.createElement)("div",{className:"acemar-timeline__image-placeholder"})),(0,e.createElement)("div",{className:"acemar-timeline__panel",style:{backgroundColor:n}},(0,e.createElement)("div",{className:"acemar-timeline__panel-inner"},(0,e.createElement)("span",{className:"acemar-timeline__year",style:{color:r}},a.year),(0,e.createElement)("h3",{className:"acemar-timeline__title"},a.title),(0,e.createElement)("p",{className:"acemar-timeline__description"},a.description)))))),(0,e.createElement)("button",{className:"acemar-timeline__arrow acemar-timeline__arrow--prev","aria-label":"Anterior"},"â€¹"),(0,e.createElement)("button",{className:"acemar-timeline__arrow acemar-timeline__arrow--next","aria-label":"Siguiente"},"â€º"),(0,e.createElement)("div",{className:"acemar-timeline__nav"},(0,e.createElement)("div",{className:"acemar-timeline__nav-track"},(0,e.createElement)("div",{className:"acemar-timeline__nav-line"}),l.map((a,t)=>(0,e.createElement)("button",{key:t,className:"acemar-timeline__nav-item"+(0===t?" is-active":""),"data-index":t},(0,e.createElement)("span",{className:"acemar-timeline__nav-dot"}),(0,e.createElement)("span",{className:"acemar-timeline__nav-year"},a.year)))),(0,e.createElement)("button",{className:"acemar-timeline__nav-arrow acemar-timeline__nav-arrow--prev","aria-label":"Anterior"},"â€¹"),(0,e.createElement)("button",{className:"acemar-timeline__nav-arrow acemar-timeline__nav-arrow--next","aria-label":"Siguiente"},"â€º")))}})}},t={};function l(e){var r=t[e];if(void 0!==r)return r.exports;var n=t[e]={exports:{}};return a[e](n,n.exports,l),n.exports}l.m=a,e=[],l.O=(a,t,r,n)=>{if(!t){var i=1/0;for(s=0;s<e.length;s++){for(var[t,r,n]=e[s],o=!0,c=0;c<t.length;c++)(!1&n||i>=n)&&Object.keys(l.O).every(e=>l.O[e](t[c]))?t.splice(c--,1):(o=!1,n<i&&(i=n));if(o){e.splice(s--,1);var m=r();void 0!==m&&(a=m)}}return a}n=n||0;for(var s=e.length;s>0&&e[s-1][2]>n;s--)e[s]=e[s-1];e[s]=[t,r,n]},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={643:0,627:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var r,n,[i,o,c]=t,m=0;if(i.some(a=>0!==e[a])){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);if(c)var s=c(l)}for(a&&a(t);m<i.length;m++)n=i[m],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(s)},t=globalThis.webpackChunkacemar_blocks=globalThis.webpackChunkacemar_blocks||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var r=l.O(void 0,[627],()=>l(487));r=l.O(r)})();