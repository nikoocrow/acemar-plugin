document.addEventListener("DOMContentLoaded",function(){console.log("Featured Projects Slider: Script cargado");const e=document.querySelectorAll(".acemar-featured-projects");console.log("Featured Projects Slider: Encontrados",e.length,"sliders"),e.forEach(function(e,o){console.log("Inicializando slider",o);const t=e.querySelector(".acemar-featured-projects__track"),n=e.querySelector(".acemar-featured-projects__nav--left"),l=e.querySelector(".acemar-featured-projects__nav--right"),r=t?t.querySelectorAll(".acemar-project-card"):[];if(console.log("Elementos encontrados:",{track:!!t,prevBtn:!!n,nextBtn:!!l,cards:r.length}),!t||!n||!l||0===r.length)return void console.log("Faltan elementos, abortando inicialización");const a=r.length;function c(){!function(){const o=e.querySelector(".acemar-featured-projects__slider"),t=o?o.offsetWidth:0,n=r[0]?r[0].offsetWidth:0,l=Math.floor(t/(n+30));return a>l}()?(n.style.display="none",l.style.display="none",console.log("Flechas ocultas")):(n.style.display="flex",l.style.display="flex",console.log("Flechas mostradas"))}console.log("Total de proyectos:",a),c();let s,d=0;function i(){const o=r[0].offsetWidth,c=-d*(o+30);t.style.transform=`translateX(${c}px)`,console.log("Slider actualizado:",{currentIndex:d,cardWidth:o,offset:c}),n.disabled=0===d;const s=e.querySelector(".acemar-featured-projects__slider").offsetWidth,i=Math.floor(s/(o+30)),u=Math.max(0,a-i);l.disabled=d>=u,console.log("Estado botones:",{prevDisabled:n.disabled,nextDisabled:l.disabled,maxIndex:u})}n.addEventListener("click",function(e){e.preventDefault(),console.log("Click en botón anterior"),d>0&&(d--,i())}),l.addEventListener("click",function(e){e.preventDefault(),console.log("Click en botón siguiente"),d<a-1&&(d++,i())}),console.log("Inicializando slider..."),i(),window.addEventListener("resize",function(){clearTimeout(s),s=setTimeout(function(){d=0,c(),i()},250)})})});