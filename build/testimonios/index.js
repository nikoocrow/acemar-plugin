(()=>{"use strict";var e,t={28(){const e=window.React,t=window.wp.blocks,a=window.wp.blockEditor,o=window.wp.components,r=JSON.parse('{"UU":"acemar/testimonios"}');(0,t.registerBlockType)(r.UU,{edit:({attributes:t,setAttributes:r})=>{const{titulo:l,testimonios:n,cardBg:i,accentColor:s,autoplay:c,autoplaySpeed:m}=t,d=(0,a.useBlockProps)({className:"acemar-testimonios alignfull"}),p=(e,t,a)=>{const o=n.map((o,r)=>r===e?{...o,[t]:a}:o);r({testimonios:o})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(o.PanelBody,{title:"Configuración",initialOpen:!0},(0,e.createElement)(o.TextControl,{label:"Título de la sección",value:l,onChange:e=>r({titulo:e})}),(0,e.createElement)(o.ToggleControl,{label:"Autoplay",checked:c,onChange:e=>r({autoplay:e})}),c&&(0,e.createElement)(o.RangeControl,{label:"Velocidad autoplay (ms)",value:m,onChange:e=>r({autoplaySpeed:e}),min:1e3,max:8e3,step:500})),(0,e.createElement)(o.PanelBody,{title:"Colores",initialOpen:!1},(0,e.createElement)("p",{style:{fontSize:"12px",marginBottom:"4px"}},"Fondo cards ",(0,e.createElement)(o.ColorIndicator,{colorValue:i})),(0,e.createElement)(a.ColorPalette,{colors:[{name:"Gris oscuro",color:"#2d2d2d"},{name:"Negro",color:"#1a1a1a"},{name:"Gris",color:"#444444"}],value:i,onChange:e=>r({cardBg:e})}),(0,e.createElement)("p",{style:{fontSize:"12px",marginBottom:"4px",marginTop:"12px"}},"Color acento ",(0,e.createElement)(o.ColorIndicator,{colorValue:s})),(0,e.createElement)(a.ColorPalette,{colors:[{name:"Dorado Acemar",color:"#C9A84C"},{name:"Blanco",color:"#ffffff"}],value:s,onChange:e=>r({accentColor:e})})),(0,e.createElement)(o.PanelBody,{title:`Testimonios (${n.length})`,initialOpen:!0},n.map((t,l)=>(0,e.createElement)("div",{key:l,style:{border:"1px solid #ddd",borderRadius:"4px",padding:"12px",marginBottom:"12px",background:"#f9f9f9"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"}},(0,e.createElement)("strong",{style:{fontSize:"12px"}},"Testimonio ",l+1),(0,e.createElement)(o.Button,{onClick:()=>(e=>{r({testimonios:n.filter((t,a)=>a!==e)})})(l),isDestructive:!0,variant:"link",style:{fontSize:"11px"}},"Eliminar")),(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>{const t=n.map((t,a)=>a===l?{...t,fotoUrl:e.url,fotoId:e.id}:t);r({testimonios:t})},allowedTypes:["image"],value:t.fotoId,render:({open:a})=>(0,e.createElement)("div",{style:{marginBottom:"8px"}},t.fotoUrl&&(0,e.createElement)("img",{src:t.fotoUrl,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"50%",display:"block",marginBottom:"4px"},alt:""}),(0,e.createElement)(o.Button,{onClick:a,variant:"secondary",style:{width:"100%",fontSize:"11px"}},t.fotoUrl?"Cambiar foto":"Subir foto"))})),(0,e.createElement)(o.TextControl,{label:"Nombre",value:t.nombre,onChange:e=>p(l,"nombre",e)}),(0,e.createElement)(o.TextControl,{label:"Cargo / Empresa",value:t.cargo,onChange:e=>p(l,"cargo",e)}),(0,e.createElement)(o.TextareaControl,{label:"Testimonio",value:t.testimonio,onChange:e=>p(l,"testimonio",e),rows:3}))),(0,e.createElement)(o.Button,{onClick:()=>{r({testimonios:[...n,{nombre:"Nombre",cargo:"Cargo / Empresa",testimonio:'"Testimonio..."',fotoUrl:"",fotoId:0}]})},variant:"secondary",style:{width:"100%"}},"+ Agregar testimonio"))),(0,e.createElement)("div",{...d},(0,e.createElement)("div",{className:"acemar-testimonios__editor-preview"},(0,e.createElement)("div",{className:"acemar-testimonios__editor-header"},(0,e.createElement)("span",{className:"acemar-testimonios__editor-titulo"},l),(0,e.createElement)("span",{className:"acemar-testimonios__editor-info"},n.length," testimonios · ",c?`Autoplay ${m}ms`:"Sin autoplay")),(0,e.createElement)("div",{className:"acemar-testimonios__editor-grid"},n.slice(0,4).map((t,a)=>(0,e.createElement)("div",{key:a,className:"acemar-testimonios__editor-card",style:{background:i}},t.fotoUrl&&(0,e.createElement)("img",{src:t.fotoUrl,alt:""}),(0,e.createElement)("div",null,(0,e.createElement)("strong",{style:{color:s}},t.nombre),(0,e.createElement)("span",null,t.cargo),(0,e.createElement)("p",null,t.testimonio))))))))},save:({attributes:t})=>{const{titulo:o,testimonios:r,cardBg:l,accentColor:n,autoplay:i,autoplaySpeed:s}=t,c=a.useBlockProps.save({className:"acemar-testimonios alignfull","data-autoplay":i?"true":"false","data-speed":s,"data-accent":n});return(0,e.createElement)("div",{...c},(0,e.createElement)("div",{className:"acemar-testimonios__header"},(0,e.createElement)("h2",{className:"acemar-testimonios__titulo",style:{"--accent":n}},o),(0,e.createElement)("div",{className:"acemar-testimonios__arrows"},(0,e.createElement)("button",{className:"acemar-testimonios__arrow acemar-testimonios__arrow--prev","aria-label":"Anterior"},"‹"),(0,e.createElement)("button",{className:"acemar-testimonios__arrow acemar-testimonios__arrow--next","aria-label":"Siguiente"},"›"))),(0,e.createElement)("div",{className:"acemar-testimonios__track-wrapper"},(0,e.createElement)("div",{className:"acemar-testimonios__track"},r.map((t,a)=>(0,e.createElement)("div",{key:a,className:"acemar-testimonios__card",style:{backgroundColor:l}},(0,e.createElement)("div",{className:"acemar-testimonios__card-header"},t.fotoUrl&&(0,e.createElement)("img",{src:t.fotoUrl,alt:t.nombre,className:"acemar-testimonios__foto"}),(0,e.createElement)("div",{className:"acemar-testimonios__info"},(0,e.createElement)("span",{className:"acemar-testimonios__nombre",style:{color:n}},t.nombre),(0,e.createElement)("span",{className:"acemar-testimonios__cargo"},t.cargo))),(0,e.createElement)("p",{className:"acemar-testimonios__texto"},t.testimonio))))))}})}},a={};function o(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.m=t,e=[],o.O=(t,a,r,l)=>{if(!a){var n=1/0;for(m=0;m<e.length;m++){for(var[a,r,l]=e[m],i=!0,s=0;s<a.length;s++)(!1&l||n>=l)&&Object.keys(o.O).every(e=>o.O[e](a[s]))?a.splice(s--,1):(i=!1,l<n&&(n=l));if(i){e.splice(m--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[a,r,l]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={396:0,708:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,[n,i,s]=a,c=0;if(n.some(t=>0!==e[t])){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(s)var m=s(o)}for(t&&t(a);c<n.length;c++)l=n[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(m)},a=globalThis.webpackChunkacemar_blocks=globalThis.webpackChunkacemar_blocks||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=o.O(void 0,[708],()=>o(28));r=o.O(r)})();