(()=>{"use strict";const e=window.React,a=window.wp.blocks,r=window.wp.blockEditor,t=window.wp.components,l=(window.wp.i18n,JSON.parse('{"UU":"acemar/recurso-card"}'));(0,a.registerBlockType)(l.UU,{edit:({attributes:a,setAttributes:l})=>{const{titulo:c,imagenUrl:n,imagenId:o,imagenAlt:s,urlDescarga:m,urlPagina:i,textoDescarga:d,textoPagina:u}=a,g=(0,r.useBlockProps)({className:"acemar-recurso-card"});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(t.PanelBody,{title:"Configuración de la card",initialOpen:!0},(0,e.createElement)(t.TextControl,{label:"Título",value:c,onChange:e=>l({titulo:e}),placeholder:"Ej: Brochure Fachadas"}),(0,e.createElement)(t.TextControl,{label:"Texto botón descarga",value:d,onChange:e=>l({textoDescarga:e}),placeholder:"Descargar"}),(0,e.createElement)(t.TextControl,{label:"URL de descarga (PDF)",value:m,onChange:e=>l({urlDescarga:e}),placeholder:"https://..."}),(0,e.createElement)(t.TextControl,{label:"Texto botón página",value:u,onChange:e=>l({textoPagina:e}),placeholder:"Ver más"}),(0,e.createElement)(t.TextControl,{label:"URL página interna",value:i,onChange:e=>l({urlPagina:e}),placeholder:"https://..."}))),(0,e.createElement)("div",{...g},(0,e.createElement)("div",{className:"acemar-recurso-card__image-wrap"},n?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:n,alt:s,className:"acemar-recurso-card__img"}),(0,e.createElement)("div",{className:"acemar-recurso-card__overlay"},(0,e.createElement)("span",{className:"acemar-recurso-card__titulo-overlay"},c)),(0,e.createElement)("div",{className:"acemar-recurso-card__editor-actions"},(0,e.createElement)(r.MediaUploadCheck,null,(0,e.createElement)(r.MediaUpload,{onSelect:e=>l({imagenUrl:e.url,imagenId:e.id,imagenAlt:e.alt||c}),allowedTypes:["image"],value:o,render:({open:a})=>(0,e.createElement)(t.Button,{onClick:a,variant:"secondary",size:"small"},"Cambiar")})),(0,e.createElement)(t.Button,{onClick:()=>l({imagenUrl:"",imagenId:0}),variant:"tertiary",isDestructive:!0,size:"small"},"Quitar"))):(0,e.createElement)("div",{className:"acemar-recurso-card__placeholder"},(0,e.createElement)(r.MediaUploadCheck,null,(0,e.createElement)(r.MediaUpload,{onSelect:e=>l({imagenUrl:e.url,imagenId:e.id,imagenAlt:e.alt||c}),allowedTypes:["image"],value:o,render:({open:a})=>(0,e.createElement)(t.Button,{onClick:a,variant:"primary"},"+ Seleccionar imagen")})))),(0,e.createElement)("p",{className:"acemar-recurso-card__titulo-below"},c||"Nombre del Recurso")))},save:({attributes:a})=>{const{titulo:t,imagenUrl:l,imagenAlt:c,urlDescarga:n,urlPagina:o,textoDescarga:s,textoPagina:m}=a,i=r.useBlockProps.save({className:"acemar-recurso-card"});return(0,e.createElement)("div",{...i},(0,e.createElement)("div",{className:"acemar-recurso-card__image-wrap"},l&&(0,e.createElement)("img",{src:l,alt:c,className:"acemar-recurso-card__img",loading:"lazy"}),(0,e.createElement)("div",{className:"acemar-recurso-card__overlay"},(0,e.createElement)("span",{className:"acemar-recurso-card__titulo-overlay"},t),(0,e.createElement)("div",{className:"acemar-recurso-card__hover-btns"},n&&(0,e.createElement)("a",{href:n,className:"acemar-recurso-card__btn acemar-recurso-card__btn--download",download:!0,target:"_blank",rel:"noopener noreferrer"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5"},(0,e.createElement)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,e.createElement)("polyline",{points:"7 10 12 15 17 10"}),(0,e.createElement)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),s),o&&(0,e.createElement)("a",{href:o,className:"acemar-recurso-card__btn acemar-recurso-card__btn--page"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5"},(0,e.createElement)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,e.createElement)("polyline",{points:"15 3 21 3 21 9"}),(0,e.createElement)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})),m)))),(0,e.createElement)("p",{className:"acemar-recurso-card__titulo-below"},t))}})})();